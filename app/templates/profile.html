<!--
    MAIN PROFILE PAGE

    .container-nav
    .container-header
    .profile-section
-->

{% extends "base.html" %}

{% block content %}
    {% for i in user_info %}
    <!-- <nav class="container-nav">
        <ul> {# eller använd .profile-nav ul #}
            <li><a href="" class="current">Profil</a></li>
            <li><a href="">Anställning</a></li>
            <li><a href="">Kompetens</a></li>
            <li><a href="">Kontakt</a></li>
        </ul>
    </nav> /.profile-nav -->

    <header class="container-header">
        <div class="profile-header-person">
            <h2>{{ i.name }}</h2>
            <div class="employment-type">
                <i class="fas fa-user"></i>
                <p>
                    {% if i.is_superuser %}
                        Chef
                    {% elif i.is_admin == True and i.is_superuser == False %}
                        Admin
                    {% else %}
                        Anställd
                    {% endif %}
                </p> {# rights or emp_type? #}
            </div> <!-- /.employment-type -->
            <div class="edit-profile">
                <a href="{% url 'password_change' %}">Byt lösenord</a>
            </div>
        </div> <!-- /.profile-header-person -->

      <!--  {# {% if user == current_user %}
            <div class="edit-profile">
                <p><a href=" url_for('edit_profile') ">Redigera</a></p>
            </div>  /.edit-profile
        {% endif %} #}-->

        <!-- <div class="profile-header-img">
            <img src="#" alt="{{ i.name }}s profilbild">

            <a id="upload_img" href="#" title="Ladda upp en ny profilbild">
                <button>Ändra</button>
            </a>

            <a id="delete_img" href="#" title="Ta bort din profilbild och få tillbaka bilden av Al!">
                <button>
                    Ta bort
                </button>
            </a>
        </div> -->
        {% endfor %}
    </header> <!-- /.profile-header -->

    <section id="profile-section" class="container-section">
        {% for i in user_info %}

        <div class="profile-list-section">
            <ul class="profile-list">
                <li>Användarnamn</li>
                <li>
                    {% if i.username %}
                        {{ i.username }}
                    {% else %}
                        Användarnamn saknas
                    {% endif %}
                </li>
            </ul>

            <ul class="profile-list">
                <li>E-postadress</li>
                <li>
                    {% if i.email %}
                        {{ i.email }}
                    {% else %}
                        E-postadress saknas
                    {% endif %}
                </li>
            </ul>

            <ul class="profile-list">
                <li>Telefonnummer</li>
                <li>
                    {% if i.phone %}
                        {{ i.phone }}
                    {% else %}
                        Telefonnummer saknas
                    {% endif %}
                </li>
            </ul>
        </div> <!-- /.profile-list-section -->

        <h3>Anställning</h3>
        <div class="profile-list-section">
            <ul class="profile-list">
                <li>Anställnings-ID</li>
                <li>
                    {% if i.empid %}
                        {{ i.empid }}
                    {% else %}
                        AnställningsID saknas
                    {% endif %}
                </li>
            </ul>
            <ul class="profile-list">
                <li>Anställningsform</li>
                <li>
                    {% if i.emp_type == "full time" %}
                        Heltid
                    {% elif i.emp_type == "part time" %}
                        Deltid
                    {% elif i.emp_type == "hourly paid" %}
                        Timanställning
                    {% elif i.emp_type == "probationary" %}
                        Provanställning
                    {% else %}
                        Anställningsform saknas
                    {% endif %}
                </li>
            </ul>
            <ul class="profile-list">
                <li>Avdelningar</li>
                <li>
                    {% if i.groups %}
                        {% for i in i.groups %}
                            {{ i }} {# Comma after each, except for the last – perhaps a solution for back-end? #}
                        {% endfor %}
                    {% else %}
                        Avdelningar saknas
                    {% endif %}
                </li>
            </ul>
        </div> <!-- /.profile-list-section -->
<br>
        <h3>Kontaktuppgifter</h3>
        <div class="profile-list-section">

            <ul class="profile-list">
                <li>Adress</li>
                <li>
                    {% if i.street %}
                        {{ i.street }}
                    {% else %}
                        Uppgifter saknas
                    {% endif %}
                </li>
            </ul>
            <ul class="profile-list">
                <li>Postnummer</li>
                <li>
                    {% if i.postcode %}
                        {{ i.postcode }}
                    {% else %}
                        Uppgifter saknas
                    {% endif %}
                </li>
            </ul>
            <ul class="profile-list">
                <li>Stad</li>
                <li>
                    {% if i.city %}
                        {{ i.city }}
                    {% else %}
                        Uppgifter saknas
                    {% endif %}
                </li>
            </ul>
        </div> <!-- /.profile-list-section -->


<!--
        <div class="emergency-contacts">
            <h3>Närmaste anhöriga</h3>
            {% if next_of_kin %} {# or 'if next_of_kin != None'? Requires that we send data to variable next_of_kin #}
                <ol>
                    {% for i in next_of_kin %}
                    <li>
                        <ul>
                            <li>{{ i.name }}</li>
                            <li>{{ i.phone }}</li>
                        </ul>
                    </li>
                    {% endfor %}
                </ol>
            {% else %}
                Det finns inga angivna närmaste anhöriga.
            {% endif %}
        </div> < /.emergency-contacts -->


    </section> <!-- /.profile-section -->
    {% endfor %}
{% endblock %}
